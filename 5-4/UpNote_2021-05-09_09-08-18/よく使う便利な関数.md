# よく使う便利な関数

## 便利な数値関数

数値の端数の切り捨て、切り上げ、四捨五入、乱数を作る関数、三角関数など、よく使う便利な数値関数を記載する。

  

## 切り捨て、切り上げ、四捨五入などを行う関数

小数点以下の切り捨て、切り上げ、四捨五入はfloor(数値),ceil(数値),

round(数値)を使う。例えば次のpriceの計算結果は4364.8だが、これを切り捨て、切り上げ、四捨五入した結果はコメント文で書いた値になる。数値の型はInt(整数)ではなく、Doubleである。

  

※切り捨て、切り上げ、四捨五入を行う。

import UIKit  
//4364.8  
let price = 3520 \* 1.24  
var ans:Double  
//切り捨て4364.0  
ans = floor(price)  
//切り上げ4365.0  
ans = ceil(price)  
//四捨五入4365.0  
ans = round(price)

  

任意の桁での切り捨てや切り上げなどを行いたい場合は、先に値を10でずらして計算し、その値を10倍して桁を戻す。次の例ではpriceの1の桁を切り捨て、切り上げ、四捨五入した値にしている。

  

※一行目を切り捨て、切り上げ、四捨五入する。

import UIKit  
//4364.8  
let price = 3520 \* 1.24  
var ans:Double  
//切り捨て4360.0  
ans = floor(price/10)\*10  
//切り上げ4370.0  
ans = ceil(price)  
//四捨五入4360.0  
ans = round(price)  
  

  

  

## 大きい方、小さい値を取り出す関数

a,b 2個の数値を比較してmax(a,b)は大きい値、min(a,b)は小さい値を選び出す。

import UIKit  
var ans: Int  
//大きい方の値を取り出す.。  
ans = max(5,9)  
//小さい方の値を取り出す。  
ans = min(5,9)

  

## 配列の値の最大値、最小値

複数の値から最大値、最小値を選び出したい場合は、値を配列に入れておきmax(),min()を実行することで値を選び出せる。ただし、配列がからの場合を考慮する必要があるため、結果はOptional型でラップされている。値が必ず入っているならば、次のように!をつけて強制的にアンラップする事ができる。

import UIKit  
var ans:Int  
let nums = \[4,7,2,8,5\]  
//配列の中から最大値を見つける  
ans = nums.max()!  
//配列の中から最小値を見つける。  
ans = nums.min()!

  

## 乱数から選ぶ。

サイコロの目を出すように値をランダムに選び出したい時、randomが使える。整数のランダムなら「Int.random(in:レンジ)」

「Double.random(in:レンジ)」が使える。

for\_inを使って繰り返し乱数を使って作ってみる。

var value:Double  
for \_ in 1...3{  
    value = Double.random(in: -1...1)  
    print("値=\\(value)")  
}

  

※出力結果

値=-0.9196196225187827  
値=-0.05075995391107457  
値=0.21156429488182105